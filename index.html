<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sant√©+ - Plateforme de sant√© professionnelle</title>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root{
      --bg-1:#f5f9ff; --bg-2:#edf4ff; --bg-3:#eef2ff;
      --card:rgba(255,255,255,.92);
      --text:#0f172a; --muted:#475569; --muted2:#64748b;
      --primary:#2563eb; --accent:#4f46e5;
      --border:rgba(148,163,184,.35);
      --ring:rgba(37,99,235,.25);
      --shadow-sm:0 1px 2px rgba(15,23,42,.06);
      --shadow-md:0 10px 20px rgba(15,23,42,.08);
      --shadow-lg:0 18px 40px rgba(15,23,42,.12);
      --r-lg:16px; --r-md:12px;
    }

    /* Dark theme overrides */
    [data-theme="dark"]{
      --bg-1:#0b1220; --bg-2:#0b1326; --bg-3:#0a1020;
      --card:rgba(17,24,39,.82);
      --text:#e5e7eb; --muted:#cbd5e1; --muted2:#94a3b8;
      --border:rgba(148,163,184,.22);
      --ring:rgba(96,165,250,.22);
      --shadow-sm:0 1px 2px rgba(0,0,0,.35);
      --shadow-md:0 12px 24px rgba(0,0,0,.28);
      --shadow-lg:0 22px 48px rgba(0,0,0,.35);
    }

    *{margin:0;padding:0;box-sizing:border-box}
    html, body { height: 100%; }
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background:
        radial-gradient(1000px 600px at 15% 10%, rgba(37,99,235,.12), transparent 55%),
        radial-gradient(900px 500px at 85% 20%, rgba(79,70,229,.12), transparent 60%),
        linear-gradient(135deg, var(--bg-1) 0%, var(--bg-2) 45%, var(--bg-3) 100%);
      min-height:100vh;
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Header */
    .header{
      position: sticky; top:0; z-index:10;
      background: rgba(255,255,255,.72);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid var(--border);
      box-shadow: var(--shadow-sm);
    }
    [data-theme="dark"] .header{
      background: rgba(2,6,23,.55);
    }

    .header-content{
      max-width:1600px; margin:0 auto;
      padding: 14px 24px;
      display:flex; align-items:center; justify-content:space-between;
      gap:16px;
    }
    .logo{display:flex; align-items:center; gap:12px; min-width:260px;}
    .logo-icon{
      width:42px;height:42px;border-radius:14px;
      display:flex;align-items:center;justify-content:center;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      box-shadow: 0 10px 18px rgba(37,99,235,.20);
      border: 1px solid rgba(255,255,255,.7);
    }
    .logo-icon i{color:#fff;font-size:20px}
    .logo-text h1{font-size:16px;font-weight:900;letter-spacing:.2px;line-height:1.1}
    .logo-text p{font-size:12px;color:var(--muted2);margin-top:2px;font-weight:600}

    .header-actions{display:flex;align-items:center;gap:8px}
    .icon-btn{
      width:40px;height:40px;border-radius:10px;
      border:1px solid transparent;background:transparent;
      display:flex;align-items:center;justify-content:center;
      cursor:pointer; transition:.2s;
      color: var(--text);
    }
    .icon-btn:hover{background: rgba(37,99,235,.08); border-color: rgba(37,99,235,.15)}
    .icon-btn:focus-visible{outline:none; box-shadow:0 0 0 4px var(--ring); border-color: rgba(37,99,235,.35)}
    .icon-btn i{color: currentColor;font-size:16px}

    /* Container */
    .container{max-width:1600px;margin:0 auto;padding: 22px 24px 52px;}

    /* Top page title */
    .page-header{margin: 18px 0 18px;}
    .page-header h2{font-size:34px;font-weight:950;letter-spacing:-.4px;margin-bottom:6px}
    .page-header p{font-size:15px;color:var(--muted);font-weight:600}

    /* Professional tab navigation */
    .tabsbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; margin: 12px 0 18px;
    }
    .tabs{
      display:flex; gap:8px;
      background: rgba(37,99,235,.08);
      border:1px solid rgba(37,99,235,.12);
      padding:6px; border-radius: 14px;
      flex-wrap: wrap;
    }
    [data-theme="dark"] .tabs{
      background: rgba(96,165,250,.10);
      border-color: rgba(148,163,184,.18);
    }

    .tab{
      display:flex; align-items:center; gap:10px;
      padding: 10px 14px;
      border-radius: 12px;
      border:1px solid transparent;
      background: transparent;
      color: var(--text);
      cursor:pointer;
      font-weight:900;
      font-size: 13px;
      letter-spacing:.1px;
      transition:.2s;
      white-space:nowrap;
    }
    .tab i{font-size:14px; opacity:.9}
    .tab:hover{background: rgba(255,255,255,.55); border-color: rgba(148,163,184,.22)}
    [data-theme="dark"] .tab:hover{background: rgba(148,163,184,.10);}

    .tab[aria-selected="true"]{
      background: linear-gradient(135deg, var(--primary), var(--accent));
      color:#fff;
      border-color: rgba(255,255,255,.45);
      box-shadow: 0 10px 18px rgba(37,99,235,.18);
    }
    .tab:focus-visible{outline:none; box-shadow:0 0 0 4px var(--ring)}

    .hint{
      color: var(--muted2);
      font-size: 12px;
      font-weight: 700;
      text-align: right;
    }

    /* Pages */
    .page{
      display:none;
      border-radius: var(--r-lg);
      background: var(--card);
      border: 1px solid var(--border);
      box-shadow: var(--shadow-md);
      padding: 18px;
    }
    .page.active{display:block; animation: fadeIn .22s ease}
    @keyframes fadeIn{
      from{opacity:0; transform: translateY(6px)}
      to{opacity:1; transform: translateY(0)}
    }

    /* Utilities / Cards */
    .grid-3{display:grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap:14px}
    .grid-2{display:grid; grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); gap:14px}
    .grid-auto{display:grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); gap:12px}
    .row{display:flex; align-items:center; gap:10px; flex-wrap: wrap;}
    .section-head{display:flex; align-items:flex-start; justify-content:space-between; gap:12px; flex-wrap: wrap;}
    .chart{height: 300px; position: relative;}
    .card{
      background: rgba(255,255,255,.80);
      border:1px solid rgba(148,163,184,.22);
      border-radius: 14px;
      padding: 14px;
      box-shadow: var(--shadow-sm);
    }
    [data-theme="dark"] .card{
      background: rgba(2,6,23,.35);
      border-color: rgba(148,163,184,.18);
    }

    .mini-card{
      background: rgba(255,255,255,.80);
      border:1px solid rgba(148,163,184,.22);
      border-radius: 14px;
      padding: 14px;
      box-shadow: var(--shadow-sm);
    }
    [data-theme="dark"] .mini-card{
      background: rgba(2,6,23,.35);
      border-color: rgba(148,163,184,.18);
    }

    .mini-title{font-size:12px; font-weight:900; letter-spacing:.12px; text-transform:uppercase; color: var(--muted)}
    .mini-value{font-size:28px; font-weight:950; margin-top:10px}
    .mini-sub{font-size:12px; color:var(--muted2); font-weight:700; margin-top:2px}

    .card-title{
      font-size: 12px;
      font-weight: 950;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: .12px;
      display:flex; align-items:center; gap:8px;
    }
    .big{font-size:28px; font-weight:950; margin-top:10px}
    .sub{font-size:12px; color:var(--muted2); font-weight:700; margin-top:2px}

    /* Buttons / Inputs */
    .btn{
      padding: 10px 14px;
      border: 1px solid rgba(148,163,184,.25);
      background: rgba(255,255,255,.85);
      color: var(--text);
      border-radius: 12px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 900;
      transition: .2s;
      display:inline-flex; align-items:center; gap:8px;
    }
    [data-theme="dark"] .btn{
      background: rgba(2,6,23,.45);
      border-color: rgba(148,163,184,.20);
    }
    .btn:hover{transform: translateY(-1px); box-shadow: var(--shadow-sm)}
    .btn.primary{
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border-color: rgba(255,255,255,.35);
      color:#fff;
      box-shadow: 0 10px 18px rgba(37,99,235,.18);
    }
    .btn:focus-visible{outline:none; box-shadow:0 0 0 4px var(--ring)}

    .select{
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(148,163,184,.25);
      background: rgba(255,255,255,.85);
      color: var(--text);
      font-weight: 800;
      cursor:pointer;
    }
    [data-theme="dark"] .select{
      background: rgba(2,6,23,.45);
      border-color: rgba(148,163,184,.20);
    }
    .select:focus-visible{outline:none; box-shadow:0 0 0 4px var(--ring)}

    .toggle{
      width: 48px; height: 28px; border-radius: 999px;
      background: rgba(148,163,184,.35);
      border: 1px solid rgba(148,163,184,.28);
      position: relative;
      cursor: pointer;
      transition: .2s;
      flex: 0 0 auto;
    }
    [data-theme="dark"] .toggle{
      background: rgba(148,163,184,.22);
      border-color: rgba(148,163,184,.18);
    }
    .toggle::after{
      content:"";
      width: 22px; height: 22px;
      border-radius: 999px;
      background: rgba(255,255,255,.95);
      position:absolute; top: 50%; left: 3px;
      transform: translateY(-50%);
      transition:.2s;
      box-shadow: var(--shadow-sm);
    }
    [data-theme="dark"] .toggle::after{ background: rgba(226,232,240,.95); }
    .toggle.on{
      background: rgba(37,99,235,.35);
      border-color: rgba(37,99,235,.25);
    }
    .toggle.on::after{ left: 23px; }

    /* Badges */
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 950;
      border: 1px solid;
      white-space: nowrap;
    }
    .b-ok{background: rgba(34,197,94,.12); color: #166534; border-color: rgba(34,197,94,.25)}
    .b-watch{background: rgba(245,158,11,.14); color: #92400e; border-color: rgba(245,158,11,.30)}
    .b-alert{background: rgba(239,68,68,.14); color: #991b1b; border-color: rgba(239,68,68,.30)}
    .b-info{background: rgba(37,99,235,.10); color: #1e40af; border-color: rgba(37,99,235,.22)}
    [data-theme="dark"] .b-info{ color: #93c5fd; }

    /* Table */
    .table-wrap{
      border-radius: 14px;
      border: 1px solid rgba(148,163,184,.22);
      overflow: hidden;
      background: rgba(255,255,255,.65);
    }
    [data-theme="dark"] .table-wrap{
      background: rgba(2,6,23,.25);
      border-color: rgba(148,163,184,.18);
    }
    table{width:100%; border-collapse: collapse;}
    thead th{
      text-align:left;
      font-size: 12px;
      font-weight: 950;
      color: var(--muted);
      background: rgba(37,99,235,.06);
      padding: 12px 14px;
      border-bottom: 1px solid rgba(148,163,184,.18);
    }
    [data-theme="dark"] thead th{
      background: rgba(96,165,250,.10);
      border-bottom-color: rgba(148,163,184,.14);
    }
    tbody td{
      padding: 14px;
      border-bottom: 1px solid rgba(148,163,184,.14);
      font-size: 13px;
      font-weight: 850;
      color: var(--text);
      vertical-align: middle;
    }
    tbody tr:last-child td{border-bottom:none}
    tbody tr:hover{background: rgba(37,99,235,.06);}
    [data-theme="dark"] tbody tr:hover{background: rgba(96,165,250,.08);}

    .linklike{
      color: var(--primary);
      text-decoration: none;
      font-weight: 950;
      cursor: pointer;
      display:inline-flex; align-items:center; gap:8px;
    }
    .linklike:hover{ text-decoration: underline; }
    [data-theme="dark"] .linklike{ color: #93c5fd; }

    /* Alert box */
    .alert-box{
      background: linear-gradient(135deg, rgba(254,242,242,.95) 0%, rgba(254,226,226,.95) 100%);
      border: 1px solid rgba(239,68,68,.30);
      border-radius: 14px;
      padding: 14px;
      margin: 10px 0 14px;
      display:flex;
      align-items:flex-start;
      gap: 12px;
      box-shadow: var(--shadow-sm);
    }
    [data-theme="dark"] .alert-box{
      background: linear-gradient(135deg, rgba(127,29,29,.25) 0%, rgba(185,28,28,.15) 100%);
      border-color: rgba(239,68,68,.25);
    }
    .alert-box i{color:#dc2626; font-size:18px; margin-top:2px}
    [data-theme="dark"] .alert-box i{ color: #fca5a5; }
    .alert-box h4{font-size:14px;font-weight:950; color:#991b1b; margin-bottom:4px}
    [data-theme="dark"] .alert-box h4{ color: #fecaca; }
    .alert-box p{font-size:13px;font-weight:800; color:#7f1d1d}
    [data-theme="dark"] .alert-box p{ color:#fecaca; opacity:.9}

    /* Responsive */
    @media (max-width: 900px){
      .tabsbar{flex-direction:column; align-items:flex-start}
      .page-header h2{font-size:28px}
      .logo{min-width:auto}
      .hint{text-align:left}
      .chart{height: 260px;}
    }
  </style>
</head>

<body>
  <!-- HEADER -->
  <header class="header">
    <div class="header-content">
      <div class="logo">
        <div class="logo-icon"><i class="fas fa-heartbeat"></i></div>
        <div class="logo-text">
          <h1>Sant√©+</h1>
          <p>Plateforme de sant√© professionnelle</p>
        </div>
      </div>

      <div class="header-actions">
        <button class="icon-btn" aria-label="Notifications"><i class="fas fa-bell"></i></button>
        <button class="icon-btn" aria-label="Param√®tres rapides"><i class="fas fa-cog"></i></button>
        <button class="icon-btn" aria-label="Profil"><i class="fas fa-user"></i></button>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="page-header">
      <h2 id="helloTitle">Bonjour, Dr. Victor Mohammad üëã</h2>
      <p id="helloSubtitle">Dossier m√©dical complet - Mardi 14 Janvier 2026</p>
    </div>

    <!-- NAVIGATION -->
    <div class="tabsbar">
      <div class="tabs" role="tablist" aria-label="Navigation">
        <button class="tab" role="tab" data-page="dashboard" aria-selected="true" aria-controls="page-dashboard">
          <i class="fas fa-chart-pie"></i> <span data-i18n="nav_dashboard">Dashboard</span>
        </button>

        <button class="tab" role="tab" data-page="capteurs" aria-selected="false" aria-controls="page-capteurs">
          <i class="fas fa-wave-square"></i> <span data-i18n="nav_capteurs">Capteurs</span>
        </button>

        <button class="tab" role="tab" data-page="rapports" aria-selected="false" aria-controls="page-rapports">
          <i class="fas fa-file-medical"></i> <span data-i18n="nav_rapports">Rapports</span>
        </button>

        <button class="tab" role="tab" data-page="dossier" aria-selected="false" aria-controls="page-dossier">
          <i class="fas fa-user-doctor"></i> <span data-i18n="nav_dossier">Dossier</span>
        </button>

        <button class="tab" role="tab" data-page="settings" aria-selected="false" aria-controls="page-settings">
          <i class="fas fa-sliders"></i> <span data-i18n="nav_parametres">Param√®tres</span>
        </button>
      </div>

      <div class="hint" id="hint">Astuce : touches ‚Üê ‚Üí + Entr√©e/Espace ‚Ä¢ URL #page</div>
    </div>

    <!-- PAGES -->

    <!-- DASHBOARD -->
    <section id="page-dashboard" class="page active" role="tabpanel" aria-label="Dashboard">
      <div class="section-head" style="margin-bottom:12px">
        <div>
          <h3 style="font-size:18px;font-weight:950;margin-bottom:2px;" data-i18n="dash_title">Vue d‚Äôensemble</h3>
          <p style="color:var(--muted);font-weight:650;" data-i18n="dash_subtitle">Activit√©, tendances et r√©sum√© des indicateurs.</p>
        </div>
        <span class="badge b-info"><i class="fas fa-circle-info"></i> <span data-i18n="dash_hint">Donn√©es exemple UI</span></span>
      </div>

      <div class="grid-3" style="margin-bottom:14px">
        <div class="mini-card">
          <div class="mini-title" data-i18n="dash_hr">Fr√©quence cardiaque</div>
          <div class="mini-value" id="kpiHr">72</div>
          <div class="mini-sub" data-i18n="dash_hr_sub">bpm (au repos)</div>
        </div>

        <div class="mini-card">
          <div class="mini-title" data-i18n="dash_hyd">Hydratation</div>
          <div class="mini-value" id="kpiHyd">1.8L</div>
          <div class="mini-sub" data-i18n="dash_hyd_sub">Objectif 2.5L</div>
        </div>

        <div class="mini-card">
          <div class="mini-title" data-i18n="dash_hrv">Variabilit√© cardiaque</div>
          <div class="mini-value" id="kpiHrv">58 ms</div>
          <div class="mini-sub" data-i18n="dash_hrv_sub">HRV moyen</div>
        </div>
      </div>

      <div class="grid-2">
        <div class="card">
          <div class="section-head" style="margin-bottom:10px">
            <div>
              <h3 style="font-size:16px;font-weight:950;" data-i18n="dash_activity_title">Activit√© & Tendances</h3>
              <p style="color:var(--muted);font-weight:650;margin-top:2px;" data-i18n="dash_activity_sub">Fr√©quence cardiaque (semaine).</p>
            </div>
            <span class="badge b-info"><i class="fas fa-calendar"></i> 7 jours</span>
          </div>
          <div class="chart"><canvas id="chartActivity"></canvas></div>
        </div>

        <div class="card">
          <div class="section-head" style="margin-bottom:10px">
            <div>
              <h3 style="font-size:16px;font-weight:950;" data-i18n="dash_bp_title">√âvolution pression art√©rielle</h3>
              <p style="color:var(--muted);font-weight:650;margin-top:2px;" data-i18n="dash_bp_sub">Systolique / Diastolique (semaine).</p>
            </div>
            <span class="badge b-info"><i class="fas fa-chart-line"></i> Graph</span>
          </div>
          <div class="chart"><canvas id="chartBpWeek"></canvas></div>
        </div>
      </div>
    </section>

    <!-- CAPTEURS -->
    <section id="page-capteurs" class="page" role="tabpanel" aria-label="Capteurs">
      <div class="section-head" style="margin-bottom:12px">
        <div>
          <h3 style="font-size:18px;font-weight:950;margin-bottom:2px;" data-i18n="cap_title">Capteurs</h3>
          <p style="color:var(--muted);font-weight:650;" data-i18n="cap_subtitle">R√©sum√© des modules + indicateurs temps r√©el.</p>
        </div>
        <span class="badge b-info"><i class="fas fa-microchip"></i> MAX30102 ‚Ä¢ PIR</span>
      </div>

      <div class="grid-3" style="margin-bottom:14px">
        <div class="mini-card">
          <div class="mini-title">MAX30102</div>
          <div class="mini-value">SpO‚ÇÇ / BPM</div>
          <div class="mini-sub">Mesure optique (exemple UI)</div>
        </div>

        <div class="mini-card">
          <div class="mini-title">PIR</div>
          <div class="mini-value" id="pirStatus">Pr√©sence : ‚Äî</div>
          <div class="mini-sub">D√©tection mouvement / pr√©sence</div>
        </div>

        <div class="mini-card">
          <div class="mini-title">√âchantillonnage</div>
          <div class="mini-value">400 Hz</div>
          <div class="mini-sub">Donn√©es brutes (plage 100‚Äì400 Hz)</div>
        </div>
      </div>

      <div class="card">
        <div class="section-head" style="margin-bottom:10px">
          <div>
            <h3 style="font-size:16px;font-weight:950;" data-i18n="cap_bp_title">√âvolution de la pression art√©rielle</h3>
            <p style="color:var(--muted);font-weight:650;margin-top:2px;" data-i18n="cap_bp_sub">Exemple de s√©rie (√† connecter au backend capteurs/mesures).</p>
          </div>
          <span class="badge b-info"><i class="fas fa-heart-pulse"></i> mmHg</span>
        </div>
        <div class="chart"><canvas id="chartCapteursBp"></canvas></div>
      </div>
    </section>

    <!-- RAPPORTS -->
    <section id="page-rapports" class="page" role="tabpanel" aria-label="Rapports">
      <div class="section-head" style="margin-bottom:12px">
        <div>
          <h3 style="font-size:18px;font-weight:950;margin-bottom:2px;" data-i18n="rep_title">Rapports</h3>
          <p style="color:var(--muted);font-weight:650;" data-i18n="rep_subtitle">Historique des mesures (clic patient ‚Üí dossier).</p>
        </div>
        <span class="badge b-info"><i class="fas fa-mouse-pointer"></i> <span data-i18n="rep_tip">Clique sur un patient</span></span>
      </div>

      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>PATIENT</th>
              <th>DATE</th>
              <th>BPM</th>
              <th>PRESSION</th>
              <th>SpO‚ÇÇ</th>
              <th>STATUT</th>
              <th>ACTION</th>
            </tr>
          </thead>
          <tbody id="reportsTbody"></tbody>
        </table>
      </div>

      <div style="margin-top:12px" class="sub">
        <i class="fas fa-info-circle"></i>
        Les valeurs affich√©es ici sont des <b>exemples d‚Äôinterface</b> (pas des donn√©es m√©dicales r√©elles).
      </div>
    </section>

    <!-- DOSSIER -->
    <section id="page-dossier" class="page" role="tabpanel" aria-label="Dossier patient">
      <div class="section-head">
        <div>
          <h3 style="font-size:18px;font-weight:950;margin-bottom:2px;" data-i18n="dos_title">Dossier patient</h3>
          <p style="color:var(--muted);font-weight:650;" data-i18n="dos_subtitle">Informations m√©dicales + historique du patient s√©lectionn√©.</p>
        </div>
        <div class="row">
          <span class="badge b-info"><i class="fas fa-user"></i> <span id="dossierName">‚Äî</span></span>
          <button class="btn" type="button" id="btnBackReports"><i class="fas fa-arrow-left"></i> <span data-i18n="dos_back">Retour Rapports</span></button>
        </div>
      </div>

      <!-- Bandeau identit√© -->
      <div class="card" style="margin: 12px 0 14px;">
        <div class="grid-auto">
          <div>
            <div class="card-title"><i class="fas fa-id-card"></i> <span data-i18n="dos_identite">Identit√©</span></div>
            <div class="big" id="dossierFullName">‚Äî</div>
            <div class="sub"><span data-i18n="dos_last">Derni√®re mesure</span> : <span id="dossierLast">‚Äî</span></div>
          </div>

          <div>
            <div class="card-title"><i class="fas fa-droplet"></i> <span data-i18n="dos_blood">Groupe sanguin</span></div>
            <div class="big" id="dossierBlood">‚Äî</div>
            <div class="sub"><span data-i18n="dos_allergies">Allergies</span> : <span id="dossierAllergies">‚Äî</span></div>
          </div>

          <div>
            <div class="card-title"><i class="fas fa-birthday-cake"></i> <span data-i18n="dos_age">√Çge</span></div>
            <div class="big"><span id="dossierAge">‚Äî</span></div>
            <div class="sub"><span data-i18n="dos_sex">Sexe</span> : <span id="dossierSex">‚Äî</span></div>
          </div>

          <div>
            <div class="card-title"><i class="fas fa-phone"></i> <span data-i18n="dos_contact">Contact</span></div>
            <div class="big" style="font-size:22px;margin-top:12px" id="dossierPhone">‚Äî</div>
            <div class="sub">ID : <span id="dossierId">‚Äî</span></div>
          </div>
        </div>
      </div>

      <!-- Indicateurs -->
      <div class="grid-auto" style="margin-bottom:14px">
        <div class="card">
          <div class="card-title"><i class="fas fa-heart"></i> BPM</div>
          <div class="big" id="dossierHr">‚Äî</div>
          <div class="sub">bpm</div>
        </div>

        <div class="card">
          <div class="card-title"><i class="fas fa-heart-pulse"></i> <span data-i18n="dos_bp">Pression</span></div>
          <div class="big" id="dossierBp">‚Äî</div>
          <div class="sub">mmHg</div>
        </div>

        <div class="card">
          <div class="card-title"><i class="fas fa-wind"></i> SpO‚ÇÇ</div>
          <div class="big" id="dossierSpo2">‚Äî</div>
          <div class="sub"><span data-i18n="dos_spo2">saturation</span></div>
        </div>

        <div class="card">
          <div class="card-title"><i class="fas fa-chart-simple"></i> HRV</div>
          <div class="big" id="dossierHrv">‚Äî</div>
          <div class="sub">ms</div>
        </div>
      </div>

      <!-- Graphiques -->
      <div class="grid-2">
        <div class="card">
          <div class="section-head" style="margin-bottom:10px">
            <div>
              <h3 style="font-size:16px;font-weight:950;" data-i18n="dos_hr_title">Fr√©quence cardiaque (7 jours)</h3>
              <p style="color:var(--muted);font-weight:650;margin-top:2px;" data-i18n="dos_hr_sub">Historique hebdomadaire.</p>
            </div>
            <span class="badge b-info"><i class="fas fa-calendar"></i> 7 jours</span>
          </div>
          <div class="chart"><canvas id="chartDossierHeart"></canvas></div>
        </div>

        <div class="card">
          <div class="section-head" style="margin-bottom:10px">
            <div>
              <h3 style="font-size:16px;font-weight:950;" data-i18n="dos_bp_title">Pression art√©rielle (7 jours)</h3>
              <p style="color:var(--muted);font-weight:650;margin-top:2px;" data-i18n="dos_bp_sub">Systolique / Diastolique.</p>
            </div>
            <span class="badge b-info"><i class="fas fa-chart-line"></i> Graph</span>
          </div>
          <div class="chart"><canvas id="chartDossierBp"></canvas></div>
        </div>
      </div>

      <!-- Notes -->
      <div class="card" style="margin-top:14px">
        <div class="section-head" style="margin-bottom:10px">
          <div>
            <h3 style="font-size:16px;font-weight:950;" data-i18n="dos_notes_title">Ant√©c√©dents & Notes</h3>
            <p style="color:var(--muted);font-weight:650;margin-top:2px;" data-i18n="dos_notes_sub">Exemples de donn√©es (√† relier au backend).</p>
          </div>
          <span class="badge b-info"><i class="fas fa-notes-medical"></i> <span data-i18n="dos_notes_badge">Dossier</span></span>
        </div>

        <div class="grid-auto">
          <div class="card">
            <div class="card-title"><i class="fas fa-file-medical"></i> <span data-i18n="dos_history">Ant√©c√©dents</span></div>
            <div class="sub" id="dossierHistory">‚Äî</div>
          </div>

          <div class="card">
            <div class="card-title"><i class="fas fa-pills"></i> <span data-i18n="dos_meds">Traitements</span></div>
            <div class="sub" id="dossierMeds">‚Äî</div>
          </div>

          <div class="card">
            <div class="card-title"><i class="fas fa-triangle-exclamation"></i> <span data-i18n="dos_alerts">Alertes</span></div>
            <div class="sub" id="dossierAlerts">‚Äî</div>
          </div>
        </div>
      </div>
    </section>

    <!-- PARAMETRES -->
    <section id="page-settings" class="page" role="tabpanel" aria-label="Param√®tres">
      <div class="section-head" style="margin-bottom:12px">
        <div>
          <h3 style="font-size:18px;font-weight:950;margin-bottom:2px;" data-i18n="set_title">Param√®tres</h3>
          <p style="color:var(--muted);font-weight:650;" data-i18n="set_subtitle">Th√®me, langue et messages patient (exemples).</p>
        </div>
        <span class="badge b-info"><i class="fas fa-sliders"></i> <span data-i18n="set_badge">Configuration</span></span>
      </div>

      <div class="grid-2">
        <div class="card">
          <div class="section-head" style="margin-bottom:10px">
            <div>
              <h3 style="font-size:16px;font-weight:950;" data-i18n="set_theme_title">Apparence</h3>
              <p style="color:var(--muted);font-weight:650;margin-top:2px;" data-i18n="set_theme_sub">Basculer clair / sombre.</p>
            </div>
            <div class="row">
              <span class="sub" id="themeLabel">Clair</span>
              <div class="toggle" id="themeToggle" role="switch" aria-checked="false" tabindex="0"></div>
            </div>
          </div>

          <div class="card" style="padding:12px">
            <div class="row" style="justify-content:space-between">
              <div>
                <div class="card-title"><i class="fas fa-language"></i> <span data-i18n="set_lang_title">Langue</span></div>
                <div class="sub" data-i18n="set_lang_sub">Interface (FR/EN) ‚Äî stock√©e en local.</div>
              </div>
              <select class="select" id="langSelect" aria-label="Langue">
                <option value="fr">Fran√ßais</option>
                <option value="en">English</option>
              </select>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="section-head" style="margin-bottom:10px">
            <div>
              <h3 style="font-size:16px;font-weight:950;" data-i18n="set_msg_title">Messages patient possibles</h3>
              <p style="color:var(--muted);font-weight:650;margin-top:2px;" data-i18n="set_msg_sub">Exemples : alertes, rappels, conseils.</p>
            </div>
            <span class="badge b-info"><i class="fas fa-comment-medical"></i> SMS / App</span>
          </div>

          <div class="grid-auto">
            <div class="card">
              <div class="card-title"><i class="fas fa-bell"></i> <span data-i18n="msg_reminder">Rappel</span></div>
              <div class="sub" data-i18n="msg_reminder_text">N‚Äôoubliez pas votre prochaine mesure aujourd‚Äôhui √† 18:00.</div>
            </div>

            <div class="card">
              <div class="card-title"><i class="fas fa-triangle-exclamation"></i> <span data-i18n="msg_alert">Alerte</span></div>
              <div class="sub" data-i18n="msg_alert_text">Valeur √©lev√©e d√©tect√©e. Refaire une mesure au repos.</div>
            </div>

            <div class="card">
              <div class="card-title"><i class="fas fa-heart"></i> <span data-i18n="msg_normal">Normal</span></div>
              <div class="sub" data-i18n="msg_normal_text">R√©sultats stables. Continuez vos bonnes habitudes.</div>
            </div>

            <div class="card">
              <div class="card-title"><i class="fas fa-glass-water"></i> <span data-i18n="msg_hyd">Hydratation</span></div>
              <div class="sub" data-i18n="msg_hyd_text">Objectif du jour : 2.5L. Pensez √† boire r√©guli√®rement.</div>
            </div>
          </div>
        </div>
      </div>

      <div class="alert-box" style="margin-top:14px">
        <i class="fas fa-exclamation-triangle"></i>
        <div>
          <h4 data-i18n="set_note_title">Note</h4>
          <p data-i18n="set_note_text">Ces r√©glages changent uniquement l‚Äôinterface (HTML). La logique capteurs / donn√©es r√©elles doit venir de ton backend.</p>
        </div>
      </div>
    </section>

  </main>

  <script>
    // -----------------------------
    // Data (UI examples)
    // -----------------------------
    const patients = [
      {
        id: "WALY-001",
        name: "Waly",
        age: 35,
        sex: "Masculin",
        phone: "+33 6 12 34 56 78",
        blood: "O+",
        allergies: "Aucune connue",
        last: "14/01/2026 ‚Ä¢ 08:30",
        status: "normal",
        hr: 74,
        spo2: 98,
        hrv: 55,
        bp: { sys: 121, dia: 79 },
        bpm7: [70,72,71,73,74,75,74],
        bp7: {
          labels: ["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],
          sys: [118,120,119,121,122,121,121],
          dia: [77,78,78,79,80,79,79]
        },
        medical: {
          history: "HTA familiale l√©g√®re. Aucun ant√©c√©dent chirurgical majeur.",
          meds: "Aucun traitement chronique.",
          alerts: "Rappel : hydratation + mesure au repos si sympt√¥mes."
        }
      },

      {
        id: "BINAJ-002",
        name: "Binaj",
        age: 48,
        sex: "Masculin",
        phone: "+33 6 98 76 54 32",
        blood: "A+",
        allergies: "P√©nicilline (suspect√©e)",
        last: "13/01/2026 ‚Ä¢ 17:10",
        status: "watch",
        hr: 88,
        spo2: 96,
        hrv: 42,
        bp: { sys: 135, dia: 86 },
        bpm7: [82,84,86,88,87,89,88],
        bp7: {
          labels: ["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],
          sys: [128,132,134,135,136,135,135],
          dia: [82,84,85,86,86,87,86]
        },
        medical: {
          history: "Surveillance tensionnelle. Fatigue r√©cente.",
          meds: "Compl√©ment magn√©sium (occasionnel).",
          alerts: "Conseil : refaire mesure au repos. Si > 140/90 persistant, avis m√©dical."
        }
      },

      {
        id: "MESSAOUD-003",
        name: "Messaoud",
        age: 61,
        sex: "Masculin",
        phone: "+33 7 11 22 33 44",
        blood: "B+",
        allergies: "Aucune connue",
        last: "12/01/2026 ‚Ä¢ 09:05",
        status: "normal",
        hr: 69,
        spo2: 99,
        hrv: 62,
        bp: { sys: 118, dia: 76 },
        bpm7: [66,67,68,69,70,69,69],
        bp7: {
          labels: ["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],
          sys: [116,117,118,118,119,118,118],
          dia: [74,75,76,76,77,76,76]
        },
        medical: {
          history: "Ancien fumeur (arr√™t). Activit√© physique r√©guli√®re.",
          meds: "Vitamine D (quotidien).",
          alerts: "RAS."
        }
      }
    ];

    // Reports feed (table) - example history
    const reportRows = [
      { patient: "Waly",     date: "14/01/2026 ‚Ä¢ 08:30", bpm: 74, bp: "121/79", spo2: "98%", status: "normal" },
      { patient: "Binaj",    date: "13/01/2026 ‚Ä¢ 17:10", bpm: 88, bp: "135/86", spo2: "96%", status: "watch"  },
      { patient: "Messaoud", date: "12/01/2026 ‚Ä¢ 09:05", bpm: 69, bp: "118/76", spo2: "99%", status: "normal" },
      { patient: "Waly",     date: "11/01/2026 ‚Ä¢ 15:20", bpm: 92, bp: "142/90", spo2: "95%", status: "alert"  }
    ];

    // -----------------------------
    // Navigation / Pages
    // -----------------------------
    const tabs = Array.from(document.querySelectorAll('.tab'));
    const pages = Array.from(document.querySelectorAll('.page'));

    function setActivePage(pageName, pushHash = true){
      pages.forEach(p => p.classList.toggle('active', p.id === 'page-' + pageName));
      tabs.forEach(t => {
        const isActive = t.dataset.page === pageName;
        t.setAttribute('aria-selected', isActive ? 'true' : 'false');
      });
      if (pushHash) history.replaceState(null, '', '#' + pageName);
    }

    tabs.forEach(t => {
      t.addEventListener('click', () => setActivePage(t.dataset.page));
      t.addEventListener('keydown', (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          setActivePage(t.dataset.page);
        }
      });
    });

    document.addEventListener('keydown', (e) => {
      if (e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') return;
      const current = tabs.findIndex(t => t.getAttribute('aria-selected') === 'true');
      if (current < 0) return;
      const next = (e.key === 'ArrowRight')
        ? (current + 1) % tabs.length
        : (current - 1 + tabs.length) % tabs.length;
      tabs[next].focus();
      setActivePage(tabs[next].dataset.page);
    });

    function initFromHash(){
      const initial = (location.hash || '#dashboard').replace('#','');
      const exists = pages.some(p => p.id === 'page-' + initial);
      setActivePage(exists ? initial : 'dashboard', false);
    }

    // -----------------------------
    // Reports table rendering
    // -----------------------------
    function statusBadge(status){
      if (status === "normal") return `<span class="badge b-ok"><i class="fas fa-check"></i> Normal</span>`;
      if (status === "watch")  return `<span class="badge b-watch"><i class="fas fa-triangle-exclamation"></i> √Ä surveiller</span>`;
      return `<span class="badge b-alert"><i class="fas fa-bell"></i> Alerte</span>`;
    }

    function renderReports(){
      const tbody = document.getElementById("reportsTbody");
      tbody.innerHTML = reportRows.map(r => `
        <tr>
          <td>
            <span class="linklike" data-open-dossier="${r.patient}">
              <i class="fas fa-folder-open"></i> ${r.patient}
            </span>
          </td>
          <td>${r.date}</td>
          <td>${r.bpm}</td>
          <td>${r.bp}</td>
          <td>${r.spo2}</td>
          <td>${statusBadge(r.status)}</td>
          <td>
            <button class="btn primary" type="button" data-open-dossier="${r.patient}">
              <i class="fas fa-user-doctor"></i> Voir dossier
            </button>
          </td>
        </tr>
      `).join("");
    }

    // -----------------------------
    // Dossier patient
    // -----------------------------
    let chartDossierHeart = null;
    let chartDossierBp = null;

    function findPatientByName(name){
      return patients.find(p => p.name.toLowerCase() === String(name).toLowerCase());
    }

    function openPatientDossierByName(name){
      const p = findPatientByName(name);
      if (!p) return;

      // identity
      document.getElementById("dossierName").textContent = p.name;
      document.getElementById("dossierFullName").textContent = p.name;
      document.getElementById("dossierLast").textContent = p.last;

      document.getElementById("dossierBlood").textContent = p.blood || "‚Äî";
      document.getElementById("dossierAllergies").textContent = p.allergies || "‚Äî";
      document.getElementById("dossierAge").textContent = (p.age != null) ? (p.age + " ans") : "‚Äî";
      document.getElementById("dossierSex").textContent = p.sex || "‚Äî";
      document.getElementById("dossierPhone").textContent = p.phone || "‚Äî";
      document.getElementById("dossierId").textContent = p.id || "‚Äî";

      // KPIs
      document.getElementById("dossierHr").textContent = p.hr ?? "‚Äî";
      document.getElementById("dossierBp").textContent = p.bp ? `${p.bp.sys}/${p.bp.dia}` : "‚Äî";
      document.getElementById("dossierSpo2").textContent = (p.spo2 != null) ? `${p.spo2}%` : "‚Äî";
      document.getElementById("dossierHrv").textContent = p.hrv ?? "‚Äî";

      // Notes
      document.getElementById("dossierHistory").textContent = (p.medical && p.medical.history) ? p.medical.history : "‚Äî";
      document.getElementById("dossierMeds").textContent = (p.medical && p.medical.meds) ? p.medical.meds : "‚Äî";
      document.getElementById("dossierAlerts").textContent = (p.medical && p.medical.alerts) ? p.medical.alerts : "‚Äî";

      rebuildDossierCharts(p);
      setActivePage("dossier");
    }

    function rebuildDossierCharts(p){
      if (chartDossierHeart) chartDossierHeart.destroy();
      if (chartDossierBp) chartDossierBp.destroy();

      const ctxH = document.getElementById("chartDossierHeart").getContext("2d");
      chartDossierHeart = new Chart(ctxH, {
        type: "line",
        data: {
          labels: p.bp7.labels,
          datasets: [{
            label: "BPM",
            data: p.bpm7,
            borderColor: "#dc2626",
            backgroundColor: "rgba(220,38,38,.08)",
            fill: true,
            tension: .35,
            borderWidth: 2,
            pointRadius: 3
          }]
        },
        options: {
          responsive:true,
          maintainAspectRatio:false,
          plugins:{ legend:{ display:false } }
        }
      });

      const ctxB = document.getElementById("chartDossierBp").getContext("2d");
      chartDossierBp = new Chart(ctxB, {
        type: "line",
        data: {
          labels: p.bp7.labels,
          datasets: [
            {
              label: "Systolique",
              data: p.bp7.sys,
              borderColor:"#dc2626",
              backgroundColor:"rgba(220,38,38,.06)",
              fill:true,
              tension:.35,
              borderWidth:2,
              pointRadius:3
            },
            {
              label: "Diastolique",
              data: p.bp7.dia,
              borderColor:"#2563eb",
              backgroundColor:"rgba(37,99,235,.06)",
              fill:true,
              tension:.35,
              borderWidth:2,
              pointRadius:3
            }
          ]
        },
        options:{
          responsive:true,
          maintainAspectRatio:false,
          plugins:{ legend:{ display:true, position:"bottom" } }
        }
      });
    }

    // Click delegation for opening dossier (name cell + button)
    document.addEventListener("click", (e) => {
      const el = e.target.closest("[data-open-dossier]");
      if (!el) return;
      openPatientDossierByName(el.getAttribute("data-open-dossier"));
    });

    const backBtn = document.getElementById("btnBackReports");
    if (backBtn) backBtn.addEventListener("click", ()=> setActivePage("rapports"));

    // -----------------------------
    // Charts: Dashboard + Capteurs
    // -----------------------------
    let chartActivity = null;
    let chartBpWeek = null;
    let chartCapteursBp = null;

    function buildCharts(){
      // Dashboard activity (heart rate)
      const actCtx = document.getElementById("chartActivity").getContext("2d");
      chartActivity = new Chart(actCtx, {
        type: "line",
        data: {
          labels: ["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],
          datasets: [{
            label: "BPM",
            data: [68, 72, 70, 75, 71, 73, 72],
            borderColor: "#dc2626",
            backgroundColor: "rgba(220,38,38,.08)",
            fill: true,
            tension: .35,
            borderWidth: 2,
            pointRadius: 3
          }]
        },
        options: { responsive:true, maintainAspectRatio:false, plugins:{ legend:{ display:false } } }
      });

      // Dashboard BP
      const bpCtx = document.getElementById("chartBpWeek").getContext("2d");
      chartBpWeek = new Chart(bpCtx, {
        type: "line",
        data: {
          labels: ["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],
          datasets: [
            { label:"Systolique", data:[118,122,120,121,120,119,120], borderColor:"#dc2626", backgroundColor:"rgba(220,38,38,.05)", fill:true, tension:.35, borderWidth:2, pointRadius:3 },
            { label:"Diastolique", data:[78,82,80,79,80,79,80], borderColor:"#2563eb", backgroundColor:"rgba(37,99,235,.05)", fill:true, tension:.35, borderWidth:2, pointRadius:3 }
          ]
        },
        options: { responsive:true, maintainAspectRatio:false, plugins:{ legend:{ display:true, position:"bottom" } } }
      });

      // Capteurs: BP evolution
      const capCtx = document.getElementById("chartCapteursBp").getContext("2d");
      chartCapteursBp = new Chart(capCtx, {
        type: "line",
        data: {
          labels: ["08:00","08:10","08:20","08:30","08:40","08:50","09:00"],
          datasets: [
            { label:"Systolique", data:[120,121,123,122,121,120,121], borderColor:"#dc2626", backgroundColor:"rgba(220,38,38,.05)", fill:true, tension:.35, borderWidth:2, pointRadius:3 },
            { label:"Diastolique", data:[80,79,80,80,79,78,79], borderColor:"#2563eb", backgroundColor:"rgba(37,99,235,.05)", fill:true, tension:.35, borderWidth:2, pointRadius:3 }
          ]
        },
        options: { responsive:true, maintainAspectRatio:false, plugins:{ legend:{ display:true, position:"bottom" } } }
      });
    }

    // -----------------------------
    // Settings: Theme + Language
    // -----------------------------
    const themeToggle = document.getElementById("themeToggle");
    const themeLabel = document.getElementById("themeLabel");
    const langSelect = document.getElementById("langSelect");

    function applyTheme(theme){
      document.body.setAttribute("data-theme", theme);
      const isDark = theme === "dark";
      themeToggle.classList.toggle("on", isDark);
      themeToggle.setAttribute("aria-checked", isDark ? "true" : "false");
      themeLabel.textContent = isDark ? "Sombre" : "Clair";
      localStorage.setItem("theme", theme);
    }

    function toggleTheme(){
      const current = localStorage.getItem("theme") || "light";
      applyTheme(current === "dark" ? "light" : "dark");
    }

    themeToggle.addEventListener("click", toggleTheme);
    themeToggle.addEventListener("keydown", (e) => {
      if (e.key === "Enter" || e.key === " ") { e.preventDefault(); toggleTheme(); }
    });

    const i18n = {
      fr: {
        nav_dashboard:"Dashboard",
        nav_capteurs:"Capteurs",
        nav_rapports:"Rapports",
        nav_dossier:"Dossier",
        nav_parametres:"Param√®tres",

        dash_title:"Vue d‚Äôensemble",
        dash_subtitle:"Activit√©, tendances et r√©sum√© des indicateurs.",
        dash_hint:"Donn√©es exemple UI",
        dash_hr:"Fr√©quence cardiaque",
        dash_hr_sub:"bpm (au repos)",
        dash_hyd:"Hydratation",
        dash_hyd_sub:"Objectif 2.5L",
        dash_hrv:"Variabilit√© cardiaque",
        dash_hrv_sub:"HRV moyen",
        dash_activity_title:"Activit√© & Tendances",
        dash_activity_sub:"Fr√©quence cardiaque (semaine).",
        dash_bp_title:"√âvolution pression art√©rielle",
        dash_bp_sub:"Systolique / Diastolique (semaine).",

        cap_title:"Capteurs",
        cap_subtitle:"R√©sum√© des modules + indicateurs temps r√©el.",
        cap_bp_title:"√âvolution de la pression art√©rielle",
        cap_bp_sub:"Exemple de s√©rie (√† connecter au backend capteurs/mesures).",

        rep_title:"Rapports",
        rep_subtitle:"Historique des mesures (clic patient ‚Üí dossier).",
        rep_tip:"Clique sur un patient",

        dos_title:"Dossier patient",
        dos_subtitle:"Informations m√©dicales + historique du patient s√©lectionn√©.",
        dos_back:"Retour Rapports",
        dos_identite:"Identit√©",
        dos_last:"Derni√®re mesure",
        dos_blood:"Groupe sanguin",
        dos_allergies:"Allergies",
        dos_age:"√Çge",
        dos_sex:"Sexe",
        dos_contact:"Contact",
        dos_bp:"Pression",
        dos_spo2:"saturation",
        dos_hr_title:"Fr√©quence cardiaque (7 jours)",
        dos_hr_sub:"Historique hebdomadaire.",
        dos_bp_title:"Pression art√©rielle (7 jours)",
        dos_bp_sub:"Systolique / Diastolique.",
        dos_notes_title:"Ant√©c√©dents & Notes",
        dos_notes_sub:"Exemples de donn√©es (√† relier au backend).",
        dos_notes_badge:"Dossier",
        dos_history:"Ant√©c√©dents",
        dos_meds:"Traitements",
        dos_alerts:"Alertes",

        set_title:"Param√®tres",
        set_subtitle:"Th√®me, langue et messages patient (exemples).",
        set_badge:"Configuration",
        set_theme_title:"Apparence",
        set_theme_sub:"Basculer clair / sombre.",
        set_lang_title:"Langue",
        set_lang_sub:"Interface (FR/EN) ‚Äî stock√©e en local.",
        set_msg_title:"Messages patient possibles",
        set_msg_sub:"Exemples : alertes, rappels, conseils.",
        msg_reminder:"Rappel",
        msg_reminder_text:"N‚Äôoubliez pas votre prochaine mesure aujourd‚Äôhui √† 18:00.",
        msg_alert:"Alerte",
        msg_alert_text:"Valeur √©lev√©e d√©tect√©e. Refaire une mesure au repos.",
        msg_normal:"Normal",
        msg_normal_text:"R√©sultats stables. Continuez vos bonnes habitudes.",
        msg_hyd:"Hydratation",
        msg_hyd_text:"Objectif du jour : 2.5L. Pensez √† boire r√©guli√®rement.",
        set_note_title:"Note",
        set_note_text:"Ces r√©glages changent uniquement l‚Äôinterface (HTML). La logique capteurs / donn√©es r√©elles doit venir de ton backend."
      },

      en: {
        nav_dashboard:"Dashboard",
        nav_capteurs:"Sensors",
        nav_rapports:"Reports",
        nav_dossier:"Patient file",
        nav_parametres:"Settings",

        dash_title:"Overview",
        dash_subtitle:"Activity, trends and KPI summary.",
        dash_hint:"UI sample data",
        dash_hr:"Heart rate",
        dash_hr_sub:"bpm (resting)",
        dash_hyd:"Hydration",
        dash_hyd_sub:"Goal 2.5L",
        dash_hrv:"Heart rate variability",
        dash_hrv_sub:"Average HRV",
        dash_activity_title:"Activity & Trends",
        dash_activity_sub:"Heart rate (week).",
        dash_bp_title:"Blood pressure trend",
        dash_bp_sub:"Systolic / Diastolic (week).",

        cap_title:"Sensors",
        cap_subtitle:"Modules overview + real-time indicators.",
        cap_bp_title:"Blood pressure evolution",
        cap_bp_sub:"Sample series (connect to sensors/backend).",

        rep_title:"Reports",
        rep_subtitle:"Measurement history (click patient ‚Üí file).",
        rep_tip:"Click a patient",

        dos_title:"Patient file",
        dos_subtitle:"Medical info + history for the selected patient.",
        dos_back:"Back to Reports",
        dos_identite:"Identity",
        dos_last:"Last reading",
        dos_blood:"Blood type",
        dos_allergies:"Allergies",
        dos_age:"Age",
        dos_sex:"Sex",
        dos_contact:"Contact",
        dos_bp:"Pressure",
        dos_spo2:"saturation",
        dos_hr_title:"Heart rate (7 days)",
        dos_hr_sub:"Weekly history.",
        dos_bp_title:"Blood pressure (7 days)",
        dos_bp_sub:"Systolic / Diastolic.",
        dos_notes_title:"History & Notes",
        dos_notes_sub:"Sample data (connect to backend).",
        dos_notes_badge:"File",
        dos_history:"History",
        dos_meds:"Medications",
        dos_alerts:"Alerts",

        set_title:"Settings",
        set_subtitle:"Theme, language and patient messages (samples).",
        set_badge:"Configuration",
        set_theme_title:"Appearance",
        set_theme_sub:"Toggle light / dark.",
        set_lang_title:"Language",
        set_lang_sub:"UI language (FR/EN) ‚Äî stored locally.",
        set_msg_title:"Possible patient messages",
        set_msg_sub:"Examples: alerts, reminders, tips.",
        msg_reminder:"Reminder",
        msg_reminder_text:"Don‚Äôt forget your next measurement today at 6:00 PM.",
        msg_alert:"Alert",
        msg_alert_text:"High value detected. Recheck at rest.",
        msg_normal:"Normal",
        msg_normal_text:"Stable results. Keep up the good habits.",
        msg_hyd:"Hydration",
        msg_hyd_text:"Today‚Äôs goal: 2.5L. Drink regularly.",
        set_note_title:"Note",
        set_note_text:"These settings only change the HTML UI. Real sensors/medical data must come from your backend."
      }
    };

    function applyLanguage(lang){
      const dict = i18n[lang] || i18n.fr;
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (dict[key]) el.textContent = dict[key];
      });
      localStorage.setItem("lang", lang);
      langSelect.value = lang;
    }

    langSelect.addEventListener("change", () => applyLanguage(langSelect.value));

    // -----------------------------
    // Boot
    // -----------------------------
    function boot(){
      // theme
      const savedTheme = localStorage.getItem("theme") || "light";
      applyTheme(savedTheme);

      // language
      const savedLang = localStorage.getItem("lang") || "fr";
      applyLanguage(savedLang);

      // reports table
      renderReports();

      // charts
      buildCharts();

      // initial hash
      initFromHash();

      // Example PIR status (UI only)
      const pir = document.getElementById("pirStatus");
      if (pir) pir.textContent = "Pr√©sence : D√©tect√©e (exemple)";
    }

    boot();
  </script>
</body>
</html>
